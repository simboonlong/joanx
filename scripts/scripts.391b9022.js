"use strict";angular.module("myAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("/",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("portfolio",{url:"/portfolio",templateUrl:"views/portfolio.html",controller:"PortfolioCtrl"}).state("portfolio.project",{url:"/:projectSlug",templateUrl:"views/portfolio.project.html",controller:"ProjectCtrl"}).state("contact",{url:"/contact",templateUrl:"views/main.html",controller:"ContactCtrl"}).state("post",{url:"/random",templateUrl:"views/post.html",controller:"PostCtrl"}),c.html5Mode(!1).hashPrefix("!")}]).run(["$rootScope","$http",function(a,b){function c(){TweenMax.to(e,.5,{opacity:0,scale:1.1,delay:.5,ease:Expo.easeOut,onComplete:function(){TweenMax.set(e,{display:"none"}),TweenMax.to(f,.7,{opacity:1,x:0,ease:Expo.easeOut}),g.each(function(a){TweenMax.to(this,.3,{opacity:1,x:0,delay:.2+.1*a,ease:Back.easeOut})}),TweenMax.to(h,.7,{opacity:1,y:0,delay:1.3,ease:Expo.easeOut})}})}b.get("data/projects.json").success(function(b){a.projects=b});var d=$(".scroll-to-top");d.on("click",function(a){a.preventDefault(),TweenMax.to($("html,body"),.7,{scrollTop:0,ease:Expo.easeOut})}),$(window).on("scroll",function(){var a=$(document).scrollTop(),b=$(".main").offset().top;b>a?d.hasClass("active")&&d.removeClass("active"):d.hasClass("active")||d.addClass("active")});var e=$(".preloader"),f=$(".logo-small"),g=$(".topnav-item"),h=$(".footer");a.$on("$stateChangeStart",function(){Pace.restart(),TweenMax.set(e,{opacity:1,visibility:"visible",force3D:!0}),TweenMax.set(f,{opacity:0,x:-30,force3D:!0}),TweenMax.set(g,{opacity:0,x:-30,force3D:!0}),TweenMax.set(h,{opacity:0,y:30,force3D:!0}),Pace.on("done",function(){c()}),$("html").niceScroll({cursorcolor:"#969696",cursoropacitymin:0,cursoropacitymax:1,cursorwidth:"5px",cursorborder:"",cursorborderradius:"5px",zindex:"1",scrollspeed:100,mousescrollstep:40,touchbehavior:!1,hwacceleration:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!1,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!1,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,hidecursordelay:400,directionlockdeadzone:6,nativeparentscrolling:!0,enablescrollonselection:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:"",preventmultitouchscrolling:!0})})}]),angular.module("myAngularApp").controller("MainCtrl",["$scope","$sce",function(a,b){function c(){TweenMax.to(e,1.2,{y:42,delay:.7,ease:Elastic.easeInOut,easeParams:[1]}),TweenMax.to(f,.7,{opacity:1,x:0,delay:1.8,ease:Expo.easeOut}),TweenMax.to(g,.7,{opacity:1,x:0,delay:2.1,ease:Expo.easeOut})}a.title=b.trustAsHtml('hello,<br />my name is<br /><span class="red">joan <span class="x">x</span> chong.</span>'),a.text=b.trustAsHtml("<p>I am a <span>designer</span>, an <span>illustrator</span>, an <span>introvert</span> and a dreamer.</p><p>I love doodling and daydreaming with the occasional habits of playing computer games and creating handicrafts.</p>"),a.sprite="about";var d=$(".preloader"),e=$(".main-sprite-content"),f=$(".main-title"),g=$(".main-text");TweenMax.set(d,{display:"block",scale:1}),TweenMax.set(e,{y:240,force3D:!0}),TweenMax.set(f,{opacity:0,x:-30,force3D:!0}),TweenMax.set(g,{opacity:0,x:-30,force3D:!0}),a.$on("$stateChangeStart",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),Pace.on("done",function(){c()})}]),angular.module("myAngularApp").controller("PortfolioCtrl",["$scope","$timeout",function(a,b){function c(){var a=$(".portfolio-item");a.each(Modernizr.touch?function(a){TweenMax.to(this,.9,{opacity:1,delay:.15*a,ease:Expo.easeOut})}:function(a){TweenMax.to(this,.9,{opacity:1,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,delay:.15*a,ease:Expo.easeOut})})}a.test="";var d=$(".preloader");TweenMax.set(d,{display:"block",scale:1}),a.$on("$stateChangeStart",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),Pace.on("done",function(){b(function(){c()},1500)})}]),angular.module("myAngularApp").controller("ProjectCtrl",["$scope","$stateParams","$filter","$timeout",function(a,b,c,d){function e(){var a=$(".project-title"),b=$(".project-short-desc"),c=$(".project-full-desc"),d=$(".project-image-item");TweenMax.to(a,.7,{opacity:1,x:0,delay:.3,ease:Expo.easeOut}),TweenMax.to(b,.7,{opacity:1,x:0,delay:.6,ease:Expo.easeOut}),TweenMax.to(c,.9,{opacity:1,x:0,delay:.9,ease:Expo.easeOut}),d.each(function(a){TweenMax.to(this,1.2,{opacity:1,x:0,delay:1.2+.2*a,ease:Expo.easeOut})})}a.projectSlug=b.projectSlug,a.project=c("filter")(a.projects,function(b){return b.slug===a.projectSlug})[0];var f=$(".preloader");TweenMax.set(f,{display:"block",scale:1}),a.$on("$stateChangeStart",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),Pace.on("done",function(){d(function(){e()},1500)})}]),angular.module("myAngularApp").controller("ContactCtrl",["$scope","$sce",function(a,b){function c(){TweenMax.to(e,.7,{y:9,delay:.7,ease:Back.easeOut,easeParams:[1]}),TweenMax.to(f,.7,{opacity:1,x:0,delay:1.8,ease:Expo.easeOut}),TweenMax.to(g,.7,{opacity:1,x:0,delay:2.1,ease:Expo.easeOut})}a.title=b.trustAsHtml('feel free to <span class="red">get in touch</span>'),a.text=b.trustAsHtml('<p>You can contact me at <a href="mailto:joanx.chong@gmail.com" class="email red">joanx.chong@gmail.com</a><br />for any new commission works, collaborations or even just to say hello or request for my resume.</p>'),a.sprite="contact";var d=$(".preloader"),e=$(".main-sprite-content"),f=$(".main-title"),g=$(".main-text");TweenMax.set(d,{display:"block",scale:1}),TweenMax.set(e,{y:640,force3D:!0}),TweenMax.set(f,{opacity:0,x:-30,force3D:!0}),TweenMax.set(g,{opacity:0,x:-30,force3D:!0}),a.$on("$stateChangeStart",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),Pace.on("done",function(){c()})}]),angular.module("myAngularApp").controller("PostCtrl",["$scope","$http","$timeout",function(a,b,c){function d(){var a=$(".post-content");a.each(function(a){TweenMax.to(this,1.2,{opacity:1,x:0,delay:.3+.2*a,ease:Expo.easeOut})})}b.get("data/posts.json").success(function(b){a.posts=b});var e=$(".preloader");TweenMax.set(e,{display:"block",scale:1}),a.$on("$stateChangeStart",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),Pace.on("done",function(){c(function(){d()},1500)})}]);